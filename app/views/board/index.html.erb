<%= render"layouts/navbartest" %>

<body class="index-page sidebar-collapse">
<%if @article.present? %>
  <%if @article.background.attached? %>
    <div class="page-header header-filter clear-filter" data-parallax="true" style="background-image: url(<%= rails_blob_url(@article.background)%>);">
  <% end %>
  <% else %>
  <div class="page-header" id="header" data-parallax="true" style="background-image: url('/assets/image.jpg');"></div>
<% end %>
    <div class="container">
      <div class="col-md-8 ml-auto mr-auto">
        <div class="brand">
          <h1>Les boards</h1>
            <a class="carousel-control-prev" href="<%= kite_index_path %>" role="button" data-slide="prev">
              <i class="fas fa-caret-square-left" style="font-size:50px"></i>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="<%= surfboard_index_path %>" role="button" data-slide="next">
	      <i class="fas fa-caret-square-right" style="font-size:50px"></i>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  <%= render"layouts/flash" %>
  </div>

  <div class="main">

  <nav id="nav_bar">
    <ul class="card d-flex flex-row nav_links d-flex justify-content-center">
            <li class="active nav-item my-1 mx-5">
            <%= link_to board_index_path(anchor: "intro"), class:" nav-link" do %>
		<div class="d-flex flex-column">
              <i class="text-center text-warning fas fa-comment-dots fa-4x"></i>
		</div>
		<%end%>
            </li>
            <li class="active nav-item my-1 mx-5">
              <%= link_to board_index_path(anchor: "performance"), class:"nav-link" do %>
		<div class="d-flex flex-column">
                <i class="text-center text-warning fas fa-sliders-h fa-4x"></i>
		</div>
		<%end%>
            </li>
            <li class="nav-item my-1 mx-5">
            <%= link_to board_index_path(anchor: "board"), class:" nav-link" do %>
		<div class="d-flex flex-column">
		<i class="text-center text-warning fas fa-compress-arrows-alt fa-4x"></i>
		</div>
		<%end%>
            </li>
            <li class="nav-item my-1 mx-5">
            <%= link_to board_index_path(anchor: "presentation"), class:" nav-link" do %>
		<div class="d-flex flex-column">
		<i class="text-center text-warning fas fa-users fa-4x"></i>
		</div>
		<%end%>
            </li> 
            <li class="nav-item my-1 mx-5">
            <%= link_to board_index_path(anchor: "compare"), class:" nav-link" do %>
		<div class="d-flex flex-column">
		<i class="text-center text-warning fas fa-compress-alt fa-4x"></i>
		</div>
		<%end%>
            </li>     
    </ul>
  </nav>

  <% if @article.present? %> 

    <section id="intro">
    <br><br><br>
  <%if @article.jumbotron.attached? %>
      <div class="jumbotron" style="background-image: url(<%= rails_blob_url(@article.jumbotron.first)%>); background-size: 100%;">
  <% else %>
  <div class="jumbotron" style="background-image: url(/assets/introtest4.jpg); background-size: 100%;">
  <% end %>
        <div class="container for-about">
        <h1>Comment sont fait nos tests</h1>
        </div>
      </div>

      <div class="container tim-container mt-3">
        <h1 class="m-5"><%= @article.title %></h1>                              
        <h2><small class="subtitle"><%= @article.intro %></small></h2>
          <div class="row">
            <div class="col-md-7 col-md-offset-0 col-sm-10 col-sm-offset-1">
              <div class="text-center">
		<% if @article.image.attached? %>
  	  	  <%= image_tag @article.image.first, alt: 'kite image', class:"card img-rounded img-responsive", style:"width:100%" %>
		<% else %>
          	  <img src="assets/image.jpg" alt="kite image" class="card img-rounded img-responsive" style="width:100%">
		<% end %>
              </div>
            </div>
            <div class="mt-5 col-md-5 col-sm-12">
              <p><%= @article.content %></p>
            </div>
       	    <h2><small class="subtitle">"# Twin-Tip"</small></h2>
          </div>
        </div>
<div class="d-flex flex-row justify-content-around">
  <div class="col-sm-6">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title"><%= @article.title2 %></h5>
        <p class="card-text"><%= @article.content2 %></p>
       </div>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title"><%= @article.title3 %></h5>
        <p class="card-text"><%= @article.content3 %></p>
      </div>
    </div>
  </div>
</div>
</section>

<section id="performance">
       <h2><small class="subtitle">Quel est ton programme ?</small></h2>

        <div class="m-3 d-flex flex-row">

  <div class="col-sm-8">
    <div class="card">
      <div class="card-body bg-light">
        <h5 class="card-title"><%= @article.title4 %></h5>
        <p class="card-text"><%= @article.content4 %></p>
       </div>
    </div>
    <div class="card">
	    <% if @article.image.attached? %>
  	      <%= image_tag @article.image.third, alt: 'kite image', class:"img-rounded img-responsive", style:"width:100%" %>
	    <% else %>
              <img src="assets/image.jpg" alt="kite image" class="img-rounded img-responsive" style="width:100%">
	    <% end %>
    </div>

  </div>
    <div class="card m-3 p-3">
         <h5 class="card-title"><%= @article.title5 %></h5>
        <p class="card-text"><%= @article.content5 %></p>
      </div>
</div>




 <div class="d-flex flex-row">

          <div class="card col-sm-6 m-3 p-3" style="width:60%">
		<%= render"boardcomp" %>
	  </div>


	  <div class="m-3 p-3">
	    <% if @article.image.attached? %>
  	      <%= image_tag @article.image.fourth, alt: 'kite image', class:"card img-rounded img-responsive", style:"width:100%" %>
	    <% else %>
              <img src="assets/image.jpg" alt="kite image" class="card img-rounded img-responsive" style="width:100%">
	    <% end %>

	  </div>

  </div>

  </section>

<% end %>

<section id="board">
  <%if @article.jumbotron.attached? %>
      <div class="jumbotron" style="background-image: url(<%= rails_blob_url(@article.jumbotron.second)%>); background-size: 100%;">
  <% else %>
  <div class="jumbotron" style="background-image: url(/assets/introtest4.jpg); background-size: 100%;">
  <% end %>
   <div class="container for-about">
   <h1>Twin-tip</h1>
   </div>
</div>

<div class="row">

<% @product.each do |t, index| %>
      <div class="card-deck ml-2">
        <div class="row mx-2">  
          <div class="card p-2" style="max-width: 130px;">
            <h3 class="card-title"> <%= t.name %>  </h3>
	      <%= link_to board_path(t), class:"nav-link" do %>
		<% if t.profil.attached? %>
  		  <%= image_tag t.profil, alt: 'kite picture', class:"rounded img-fluid", style:"width:100%" %>
		<% else %>
		  <img src="assets/image.jpg" class="rounded img-fluid" alt="..." style="width:100%">
		<%end%>
	      <%end%>
            <h4 class="card-title">By <%= t.brand %></h4>
	    <div class="d-flex justify-content-between">		
	      <h4 class="text-left"> <%= t.testsize %></h4>
	      <h4 class="text-right"> <%= t.price %>€</h4>
	    </div>
          </div>
        </div>
      </div>
      <% end %>
    </div>

</section>

<section id="presentation">
<% render"layouts/presentation" %>
</section>


  <section id="compare">
  <br><br><br>
  <%if @article.jumbotron.attached? %>
    <div class="jumbotron" style="background-image: url(<%= rails_blob_url(@article.jumbotron.fourth)%>); background-size: 100%;">
  <% else %>
    <div class="jumbotron" style="background-image: url(/assets/introtest4.jpg); background-size: 100%;">
  <% end %>
    <div class="container for-about">
    <h1>comparer Twin-Tips</h1>
    </div>
  </div>

  <table class="table table-striped text-center p-2">
    <thead>
      <tr>
        <th scope="col">Twin-tip <i class="fas fa-chevron-circle-right"></i></th>
        <% @product.each do |t, index| %>
          <th scope="col"><%= t.name %></th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row">Compétences<br><i class="fas fa-chevron-circle-down"></i></th>
	<% @product.each do |t, index| %>
        <td><%= link_to board_path(t), class:"nav-link" do %>
	  <% if t.profil.attached? %>
  	    <%= image_tag t.profil, alt: 'kite picture', class:"img-raised rounded img-fluid", style:"width:100px" %>
	  <% else %>
	    <img src="assets/image.jpg" class="img-raised rounded img-fluid" alt="..." style="width:100px">
	  <%end%>
	<%end%>
	</td>
	<% end %>
    </tr>
    <tr>
      <th scope="row">Marque</th>
      <% @product.each do |t, index| %>
   	<td><%= t.brand %></td>
      <% end %>
    </tr>
    <tr>
      <th scope="row">taille testé</th>
	<% @product.each do |t, index| %>
      <td><%= t.testsize %></td>
      <% end %>
    </tr>
    <tr>
      <th scope="row">Control</th>
      <% @technics.each do |t, index| %>
        <td>
          <div class="d-flex justify-content-between">
            <p>Slashy</p>
            <p>Rail</p>
          </div>
          <div class="progress" style="height: 20px;">
            <div class="progress-bar bg-dark" role="progressbar" style="width: <%= t.control*20 %>%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </td>
      <% end %>
    </tr>
    <tr>
      <th scope="row" class="text-danger">Maniabilité</th>
        <% @technics.each do |t, index| %>
            <td>
              <div class="d-flex justify-content-between">
                <p>Maniable</p>
          	<p>Joueur</p>
              </div>
              <div class="progress" style="height: 20px;">
                <div class="progress-bar bg-danger" role="progressbar" style="width: <%= t.maniability*20 %>%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
      	    </td>
        <% end %>
    </tr>
    <tr>
      <th scope="row" class="text-success">Progression</th>
	<% @technics.each do |t, index| %>
      <td><% while @variable < t.progression %>
	    <i class="text-success fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <%end%>
	  <% while @variable < 5 %>
	    <i class="text-light fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <% end %>
	  <% @variable = 0 %>
      </td>
        <% end %>
    </tr>
    <tr>
      <th scope="row" class="text-info">Freeride / Freestyle</th>
      <% @technics.each do |t, index| %>
      <td><% while @variable < t.freeride %>
	    <i class="text-info fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <%end%>
	  <% while @variable < 5 %>
	    <i class="text-light fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <% end %>
	  <% @variable = 0 %>
      </td>
<% end %>
    </tr>
    <tr>
      <th scope="row" class="text-warning">New-School</th>
<% @technics.each do |t, index| %>
      <td><% while @variable < t.freestyle %>
	    <i class="text-warning fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <%end%>
	  <% while @variable < 5 %>
	    <i class="text-light fas fa-square"></i>
	    <% @variable = @variable + 1 %>
	  <% end %>
	  <% @variable = 0 %>
      </td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Tailles disponibles</th>
<% @options.each do |t, index| %>
      <td><%= t.range %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Ailerons</th>
<% @options.each do |t, index| %>
      <td><%= t.fin %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Stance</th>
<% @options.each do |t, index| %>
      <td><%= t.stance %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Largeur</th>
<% @options.each do |t, index| %>
      <td><%= t.width %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Poids</th>
<% @options.each do |t, index| %>
      <td><%= t.weigh %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Carène</th>
<% @options.each do |t, index| %>
      <td><%= t.carene %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Flex</th>
<% @options.each do |t, index| %>
      <td><%= t.flex %></td>
<% end %>
    </tr>
    <tr>
      <th scope="row">Prix</th>
<% @product.each do |t, index| %>
      <td><%= t.price %> €</td>
<% end %>
    </tr>
    <tr>
      <th scope="row"></th>
<% @product.each do |t, index| %>
      <td><a href="<%= board_path(t) %>" class="scrollup btn btn-success">Détails</a>
</td>
<% end %>
    </tr>

  </tbody>
</table>

  </section>

        <div class="card-body">
          <h3 class="card-title">liste Twin-Tips années précédentes</h3>

	    <table class="table table-striped">
	      <thead>
    		<tr>
      		  <th scope="col">Twin-tip</th>
      		  <th scope="col">Millésime</th>
      		  <th scope="col">Modèle</th>
      		  <th scope="col">marque</th>
      		  <th scope="col">descriptif</th>
      		  <th scope="col">prix</th>
    		</tr>
  	      </thead>
 	      <tbody>
		<% @products.each do |t, index| %>
		  <% if t.domain === "freestyle" && t.category === "board" %>
    		    <tr>
     		      <th scope="row">
      			<%= link_to board_path(t), class:"nav-link" do %>
			  <% if t.profil.attached? %>
  		  	    <%= image_tag t.profil, alt: 'kite picture', class:"img-raised rounded img-fluid", style:"width:70px" %>
			  <% else %>
		  	    <img src="assets/image.jpg" class="img-raised rounded img-fluid" alt="bar picture" style="width:70px">
			  <%end%>
	      	        <%end%>
		      </th>
      		      <td><h4><%= t.year %></h4></td>
      		      <td><h4 class="text-nowrap text-uppercase"><%= t.name %></h4></td>
      		      <td><h4><%= t.brand %></h4></td>
      		      <td><h4 class="d-inline-block text-truncate" style="max-width: 150px;"><%= t.description %></h4></td>
      		      <td><h4><%= t.price %>€</h4></td>
    		    </tr>
	          <% end %>
		<% end %>
	      </tbody>
	    </table>
          </div>
<br>
<br>
<br>
    <%= yield %>
</div>

  </body>
</html>

